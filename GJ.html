<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>ç”µå­å…ƒä»¶æ¢ç®—å·¥å…·</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
			-webkit-tap-highlight-color: transparent;
		}
		
		body {
			background-color: #f5f7fa;
			color: #333;
			line-height: 1.5;
			padding: 8px;
			min-height: 100vh;
			max-width: 100%;
			overflow-x: hidden;
		}
		
		.container {
			max-width: 480px;
			margin: 0 auto;
			display: flex;
			flex-direction: column;
			gap: 8px;
		}
		
		/* é¡¶éƒ¨æ ‡ç­¾æ  */
		.tabs {
			display: flex;
			background: white;
			border-radius: 6px;
			overflow: hidden;
			border: 1px dashed #ddd;
		}
		
		.tab {
			flex: 1;
			padding: 10px 6px;
			text-align: center;
			color: #2c3e50;
			background: white;
			border: none;
			cursor: pointer;
			font-size: 13px;
			transition: all 0.2s;
		}
		
		.tab.active {
			background: #3498db;
			color: white;
			font-weight: bold;
		}
		
		/* å†…å®¹åŒºåŸŸ */
		.content {
			background: white;
			padding: 12px;
			border-radius: 6px;
			border: 1px dashed #ddd;
			min-height: 300px;
		}
		
		/* å‘¨å¤©æ¢ç®—é¡µç‰¹åˆ«è°ƒå° */
		#weekday.content {
			padding: 10px;
			min-height: auto;
		}
		
		.section-title {
			color: #2c3e50;
			margin-bottom: 12px;
			font-size: 15px;
			font-weight: bold;
		}
		
		/* å‘¨å¤©æ¢ç®—é¡µæ ‡é¢˜æ›´å° */
		#weekday .section-title {
			margin-bottom: 8px;
		}
		
		/* å‘¨å¤©æ¢ç®—ç»“æœ - å¼ºåˆ¶1Ã—4å¸ƒå±€ï¼Œæ•´ä½“æ›´ç´§å‡‘ */
		.weekday-row {
			display: flex;
			justify-content: space-between;
			gap: 5px;
			margin-top: 5px;
			flex-wrap: nowrap;
			overflow-x: auto;
			padding-bottom: 3px;
		}
		
		.weekday-row::-webkit-scrollbar {
			display: none;
		}
		
		.weekday-box {
			min-width: 70px;
			flex: 1;
			border: 1px dashed #ddd;
			border-radius: 6px;
			padding: 8px 5px;
			text-align: center;
			display: flex;
			flex-direction: column;
			justify-content: center;
			flex-shrink: 0;
		}
		
		.weekday-label {
			display: block;
			margin-bottom: 3px;
			font-weight: 500;
			color: #2c3e50;
			font-size: 11px;
		}
		
		.weekday-value {
			font-size: 18px;
			font-weight: bold;
			color: #333;
		}
		
		/* è‰²ç¯è®¡ç®—å™¨æ ·å¼ */
		.color-band-selector {
			display: flex;
			justify-content: center;
			gap: 8px;
			margin: 15px 0;
			flex-wrap: wrap;
			min-height: 70px;
		}
		
		.band-square {
			width: 65px;
			height: 65px;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			font-weight: bold;
			transition: all 0.2s;
			border: 1px dashed; /* è™šçº¿è¾¹æ¡†ï¼Œé¢œè‰²ç”±JSæ§åˆ¶ */
			display: none;
			border-radius: 8px;
			font-size: 12px;
		}
		
		.band-square.visible {
			display: flex;
		}
		
		.band-name {
			font-size: 12px;
			margin-top: 3px;
			font-weight: bold;
		}
		
		/* é¢œè‰²é€‰æ‹©æŒ‰é’® */
		.color-buttons {
			display: flex;
			flex-wrap: wrap;
			gap: 6px;
			margin: 15px 0;
			justify-content: center;
		}
		
		.color-btn {
			padding: 8px 10px;
			border: 1px dashed #ddd;
			border-radius: 4px;
			font-weight: bold;
			cursor: pointer;
			font-size: 12px;
			min-width: 68px;
			background: white !important;
			color: #2c3e50 !important;
			transition: all 0.2s;
			position: relative;
		}
		
		/* é€šè¿‡ä¼ªå…ƒç´ æ·»åŠ æ–‡å­—å‰çš„é¢œè‰²ç‚¹ */
		.color-btn::before {
			content: "";
			display: inline-block;
			width: 10px;
			height: 10px;
			border-radius: 50%;
			margin-right: 5px;
			vertical-align: middle;
			border: 1px solid rgba(0,0,0,0.1);
		}
		
		/* æ¯ä¸ªæŒ‰é’®çš„æ–‡å­—é¢œè‰² */
		.color-btn[data-color="é»‘"]::before { background: #000000; }
		.color-btn[data-color="é»‘"] { color: #000000 !important; border-color: #000000 !important; }
		
		.color-btn[data-color="æ£•"]::before { background: #8B4513; }
		.color-btn[data-color="æ£•"] { color: #8B4513 !important; border-color: #8B4513 !important; }
		
		.color-btn[data-color="çº¢"]::before { background: #FF0000; }
		.color-btn[data-color="çº¢"] { color: #FF0000 !important; border-color: #FF0000 !important; }
		
		.color-btn[data-color="æ©™"]::before { background: #FFA500; }
		.color-btn[data-color="æ©™"] { color: #FFA500 !important; border-color: #FFA500 !important; }
		
		.color-btn[data-color="é»„"]::before { background: #FFFF00; }
		.color-btn[data-color="é»„"] { color: #FFCC00 !important; border-color: #FFCC00 !important; }
		
		.color-btn[data-color="ç»¿"]::before { background: #008000; }
		.color-btn[data-color="ç»¿"] { color: #008000 !important; border-color: #008000 !important; }
		
		.color-btn[data-color="è“"]::before { background: #0000FF; }
		.color-btn[data-color="è“"] { color: #0000FF !important; border-color: #0000FF !important; }
		
		.color-btn[data-color="ç´«"]::before { background: #800080; }
		.color-btn[data-color="ç´«"] { color: #800080 !important; border-color: #800080 !important; }
		
		.color-btn[data-color="ç°"]::before { background: #808080; }
		.color-btn[data-color="ç°"] { color: #808080 !important; border-color: #808080 !important; }
		
		.color-btn[data-color="ç™½"]::before { background: #FFFFFF; border: 1px solid #ccc; }
		.color-btn[data-color="ç™½"] { color: #666666 !important; border-color: #cccccc !important; }
		
		.color-btn[data-color="é‡‘"]::before { background: #FFD700; }
		.color-btn[data-color="é‡‘"] { color: #D4AF37 !important; border-color: #D4AF37 !important; }
		
		.color-btn[data-color="é“¶"]::before { background: #C0C0C0; }
		.color-btn[data-color="é“¶"] { color: #999999 !important; border-color: #999999 !important; }
		
		/* ç‚¹å‡»æ•ˆæœ */
		.color-btn:active {
			transform: scale(0.95);
			background: #f8f9fa !important;
			border-style: solid;
		}
		
		/* æ§åˆ¶æŒ‰é’® - æ¢å¤çº¢è‰²è™šçº¿æ ·å¼ */
		.control-buttons {
			display: flex;
			justify-content: center;
			margin: 15px 0;
		}
		
		.control-btn {
			background: white;
			color: #e74c3c;
			border: 1px dashed #e74c3c;
			padding: 10px 20px;
			border-radius: 6px;
			cursor: pointer;
			font-weight: bold;
			font-size: 14px;
			width: 100%;
			max-width: 180px;
			transition: all 0.2s;
		}
		
		.control-btn:active {
			transform: scale(0.95);
			background: #fdf2f2;
			border-style: solid;
		}
		
		/* è‰²ç¯è®¡ç®—ç»“æœ - 1Ã—2å¸ƒå±€ */
		.result-row {
			display: none;
			justify-content: space-between;
			gap: 10px;
			margin: 15px 0;
			flex-wrap: nowrap;
			overflow-x: auto;
			padding-bottom: 5px;
		}
		
		.result-row::-webkit-scrollbar {
			display: none;
		}
		
		.result-box {
			min-width: 160px;
			flex: 1;
			border: 1px dashed #ddd;
			border-radius: 6px;
			padding: 12px 8px;
			text-align: center;
			display: flex;
			flex-direction: column;
			justify-content: center;
			flex-shrink: 0;
		}
		
		.result-label {
			display: block;
			margin-bottom: 6px;
			font-weight: 500;
			color: #2c3e50;
			font-size: 13px;
		}
		
		.result-value {
			font-size: 18px;
			font-weight: bold;
			color: #333;
		}
		
		/* ç”µå‹ä»£ç æ ·å¼ - æŒ‰æ•°å€¼æ’åºï¼Œä¸€æ’5ä¸ª */
		.voltage-grid {
			display: grid;
			grid-template-columns: repeat(5, 1fr);
			gap: 8px;
			margin-top: 12px;
		}
		
		.voltage-item {
			border: 1px dashed #ddd;
			border-radius: 6px;
			padding: 10px 6px;
			text-align: center;
			background: white;
		}
		
		.voltage-code {
			font-weight: bold;
			color: #2c3e50;
			font-size: 16px;
			margin-bottom: 4px;
		}
		
		.voltage-value {
			color: #333;
			font-size: 13px;
		}
		
		/* éšè—/æ˜¾ç¤ºæ§åˆ¶ */
		.hidden {
			display: none;
		}
		
		/* æç¤ºä¿¡æ¯ */
		.info-text {
			font-size: 11px;
			color: #7f8c8d;
			margin-top: 10px;
			text-align: center;
		}
		
		/* å·²é€‰è‰²ç¯ä¿¡æ¯ */
		.selected-info {
			text-align: center;
			margin: 12px 0;
			font-weight: bold;
			color: #2c3e50;
			font-size: 14px;
		}
		
		/* ========== ä»£ç è®¡ç®—å™¨æ ·å¼ ========== */
		.code-display-container {
			background: white;
			border: 1px dashed #ddd;
			border-radius: 8px;
			padding: 10px 12px;
			margin: 12px 0;
			text-align: center;
			height: 65px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.code-display {
			font-size: 24px;
			font-weight: bold;
			color: #2c3e50;
			letter-spacing: 1px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 6px;
			width: 100%;
		}
		
		.code-input {
			color: #2c3e50;
		}
		
		.code-separator {
			color: #7f8c8d;
			margin: 0 4px;
		}
		
		.code-result {
			font-size: 24px;
			color: #3498db;
			font-weight: bold;
		}
		
		/* æ•°å­—é”®ç›˜ */
		.numpad {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 6px;
			margin: 12px 0;
		}
		
		.numpad-btn {
			background: white;
			color: #2c3e50;
			border: 1px dashed #ddd;
			padding: 10px 4px;
			border-radius: 6px;
			font-size: 16px;
			font-weight: bold;
			cursor: pointer;
			transition: all 0.2s;
		}
		
		.numpad-btn:active {
			transform: scale(0.95);
			background: #f8f9fa;
			border-style: solid;
			border-color: #3498db;
		}
		
		.numpad-btn.clear {
			color: #e74c3c;
			border-color: #e74c3c;
		}
		
		.numpad-btn.backspace {
			color: #f39c12;
			border-color: #f39c12;
		}
		
		/* å€æ•°ä»£ç æŒ‰é’® */
		.multiplier-pad {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 6px;
			margin: 12px 0;
		}
		
		.multiplier-btn {
			background: white;
			color: #2c3e50;
			border: 1px dashed #ddd;
			padding: 8px 4px;
			border-radius: 6px;
			font-size: 12px;
			font-weight: bold;
			cursor: pointer;
			transition: all 0.2s;
		}
		
		.multiplier-btn:active {
			transform: scale(0.95);
			background: #f8f9fa;
			border-style: solid;
			border-color: #2ecc71;
		}
		
		/* å“åº”å¼è®¾è®¡ - ç¡®ä¿ä¸€æ’5ä¸ª */
		@media (max-width: 480px) {
			.container {
				max-width: 100%;
			}
			
			/* ç”µå‹ä»£ç åœ¨å°å±å¹•ä¿æŒä¸€æ’5ä¸ª */
			.voltage-grid {
				grid-template-columns: repeat(5, 1fr);
				gap: 6px;
			}
			
			.voltage-item {
				padding: 8px 4px;
			}
			
			.voltage-code {
				font-size: 14px;
			}
			
			.voltage-value {
				font-size: 12px;
			}
			
			/* è‰²ç¯ç›¸å…³ */
			.band-square {
				width: 60px;
				height: 60px;
				font-size: 11px;
			}
			
			.band-name {
				font-size: 11px;
			}
			
			.color-btn {
				min-width: 60px;
				font-size: 11px;
				padding: 7px 8px;
			}
			
			.color-btn::before {
				width: 8px;
				height: 8px;
				margin-right: 4px;
			}
			
			/* ä»£ç è®¡ç®—å™¨ */
			.code-display {
				font-size: 20px;
			}
			
			.code-display-container {
				height: 60px;
				padding: 8px 10px;
			}
			
			.numpad-btn {
				padding: 8px 3px;
				font-size: 15px;
			}
			
			.multiplier-btn {
				padding: 7px 3px;
				font-size: 11px;
			}
			
			/* å‘¨å¤©æ¢ç®— */
			.weekday-box {
				min-width: 65px;
				padding: 7px 4px;
			}
			
			.weekday-value {
				font-size: 16px;
			}
			
			.weekday-label {
				font-size: 10px;
			}
		}
		
		/* è¶…å°å±å¹•é€‚é… */
		@media (max-width: 360px) {
			/* ç”µå‹ä»£ç è°ƒæ•´ä¸º4ä¸ªä¸€æ’ï¼Œç¡®ä¿å¯è¯»æ€§ */
			.voltage-grid {
				grid-template-columns: repeat(4, 1fr);
				gap: 5px;
			}
			
			.tab {
				padding: 8px 4px;
				font-size: 12px;
			}
			
			.section-title {
				font-size: 14px;
			}
			
			.color-btn {
				min-width: 55px;
				font-size: 10px;
				padding: 6px 5px;
			}
			
			.color-btn::before {
				width: 7px;
				height: 7px;
				margin-right: 3px;
			}
			
			.band-square {
				width: 55px;
				height: 55px;
				font-size: 10px;
			}
			
			.result-box {
				min-width: 140px;
				padding: 10px 6px;
			}
			
			.code-display {
				font-size: 18px;
			}
			
			.weekday-box {
				min-width: 60px;
			}
			
			.weekday-value {
				font-size: 15px;
			}
		}
		
		/* æå°å±å¹•é€‚é… */
		@media (max-width: 320px) {
			/* ç”µå‹ä»£ç è°ƒæ•´ä¸º3ä¸ªä¸€æ’ */
			.voltage-grid {
				grid-template-columns: repeat(3, 1fr);
			}
			
			.color-btn {
				min-width: 50px;
				font-size: 9px;
				padding: 5px 4px;
			}
			
			.band-square {
				width: 50px;
				height: 50px;
			}
			
			.weekday-box {
				min-width: 55px;
			}
		}
	</style>
</head>
<body>
	<div class="container">
		<!-- é¡¶éƒ¨æ ‡ç­¾æ  -->
		<div class="tabs">
			<button class="tab active" onclick="switchTab('weekday')">å‘¨å¤©æ¢ç®—</button>
			<button class="tab" onclick="switchTab('multiplier')">ä»£ç è®¡ç®—</button>
			<button class="tab" onclick="switchTab('colorcode')">è‰²ç¯è®¡ç®—</button>
			<button class="tab" onclick="switchTab('voltage')">ç”µå‹ä»£ç </button>
		</div>
		
		<!-- å‘¨å¤©æ¢ç®— -->
		<div id="weekday" class="content">
			<div class="section-title">ğŸ“… å‘¨å¤©è‡ªåŠ¨æ¢ç®—</div>
			<div class="weekday-row">
				<div class="weekday-box">
					<span class="weekday-label">å¹´</span>
					<div class="weekday-value" id="year-value">25</div>
				</div>
				<div class="weekday-box">
					<span class="weekday-label">å‘¨</span>
					<div class="weekday-value" id="week-value">50</div>
				</div>
				<div class="weekday-box">
					<span class="weekday-label">å¤©</span>
					<div class="weekday-value" id="day-value">347</div>
				</div>
				<div class="weekday-box">
					<span class="weekday-label">æœ¬å‘¨ç¬¬å‡ å¤©</span>
					<div class="weekday-value" id="weekday-value">6</div>
				</div>
			</div>
		</div>
		
		<!-- ä»£ç è®¡ç®—å™¨ -->
		<div id="multiplier" class="content hidden">
			<div class="section-title">ğŸ”¢ ç”µé˜»ä»£ç è®¡ç®—å™¨</div>
			
			<!-- æç®€æ˜¾ç¤ºåŒºåŸŸ -->
			<div class="code-display-container">
				<div class="code-display" id="code-display">è¯·å¼€å§‹è¾“å…¥</div>
			</div>
			
			<!-- æ•°å­—é”®ç›˜ -->
			<div class="numpad">
				<button class="numpad-btn" onclick="addDigit(7)">7</button>
				<button class="numpad-btn" onclick="addDigit(8)">8</button>
				<button class="numpad-btn" onclick="addDigit(9)">9</button>
				<button class="numpad-btn" onclick="addDigit(4)">4</button>
				<button class="numpad-btn" onclick="addDigit(5)">5</button>
				<button class="numpad-btn" onclick="addDigit(6)">6</button>
				<button class="numpad-btn" onclick="addDigit(1)">1</button>
				<button class="numpad-btn" onclick="addDigit(2)">2</button>
				<button class="numpad-btn" onclick="addDigit(3)">3</button>
				<button class="numpad-btn clear" onclick="clearCode()">æ¸…é™¤</button>
				<button class="numpad-btn" onclick="addDigit(0)">0</button>
				<button class="numpad-btn backspace" onclick="backspace()">âŒ«</button>
			</div>
			
			<!-- å€æ•°ä»£ç æŒ‰é’® -->
			<div class="multiplier-pad">
				<button class="multiplier-btn" onclick="addMultiplier('A')">A (0)</button>
				<button class="multiplier-btn" onclick="addMultiplier('B')">B (1)</button>
				<button class="multiplier-btn" onclick="addMultiplier('C')">C (2)</button>
				<button class="multiplier-btn" onclick="addMultiplier('D')">D (3)</button>
				<button class="multiplier-btn" onclick="addMultiplier('E')">E (4)</button>
				<button class="multiplier-btn" onclick="addMultiplier('F')">F (5)</button>
				<button class="multiplier-btn" onclick="addMultiplier('X')">X (-1)</button>
				<button class="multiplier-btn" onclick="addMultiplier('Y')">Y (-2)</button>
			</div>
			
			<!-- ç®€å•è¯´æ˜ -->
			<div class="info-text">
				å…ˆè¾“å…¥ä¸¤ä½æ•°å­—ä»£ç (å¦‚01)ï¼Œå†é€‰æ‹©å€æ•°ä»£ç (å¦‚A)<br>
				ç¤ºä¾‹ï¼š01A = 100Î©
			</div>
		</div>
		
		<!-- è‰²ç¯è®¡ç®— -->
		<div id="colorcode" class="content hidden">
			<div class="section-title">ğŸŒˆ è‰²ç¯ç”µé˜»è®¡ç®—å™¨</div>
			<div class="selected-info" id="selected-info">å·²é€‰æ‹©ï¼š0ä¸ªè‰²ç¯ (æœ€å°‘3ä¸ªå¼€å§‹è®¡ç®—)</div>
			<div class="color-band-selector" id="band-display"></div>
			<div class="color-buttons" id="color-buttons"></div>
			
			<!-- è®¡ç®—ç»“æœ - 1Ã—2å¸ƒå±€ -->
			<div class="result-row" id="resistor-result">
				<div class="result-box">
					<span class="result-label">ç”µé˜»å€¼</span>
					<div class="result-value" id="resistor-value">-</div>
				</div>
				<div class="result-box">
					<span class="result-label">å®¹å·®</span>
					<div class="result-value" id="tolerance-value">-</div>
				</div>
			</div>
			
			<div class="control-buttons">
				<button class="control-btn" onclick="clearAllBands()">æ¸…é™¤æ‰€æœ‰è‰²ç¯</button>
			</div>
			<div class="info-text">ç›´æ¥ç‚¹å‡»é¢œè‰²æŒ‰é’®è®¾ç½®è‰²ç¯<br>ç‚¹å‡»3ä¸ªè‰²ç¯å¼€å§‹è®¡ç®—ï¼Œæœ€å¤š5ä¸ªè‰²ç¯</div>
		</div>
		
		<!-- ç”µå‹ä»£ç  - æŒ‰æ•°å€¼æ’åº -->
		<div id="voltage" class="content hidden">
			<div class="section-title">âš¡ ç”µå‹ä»£ç å¯¹ç…§è¡¨</div>
			<div class="voltage-grid">
				<div class="voltage-item"><div class="voltage-code">G</div><div class="voltage-value">4V</div></div>
				<div class="voltage-item"><div class="voltage-code">J</div><div class="voltage-value">6.3V</div></div>
				<div class="voltage-item"><div class="voltage-code">A</div><div class="voltage-value">10V</div></div>
				<div class="voltage-item"><div class="voltage-code">C</div><div class="voltage-value">16V</div></div>
				<div class="voltage-item"><div class="voltage-code">D</div><div class="voltage-value">20V</div></div>
				<div class="voltage-item"><div class="voltage-code">E</div><div class="voltage-value">25V</div></div>
				<div class="voltage-item"><div class="voltage-code">V</div><div class="voltage-value">35V</div></div>
				<div class="voltage-item"><div class="voltage-code">H</div><div class="voltage-value">50V</div></div>
				<div class="voltage-item"><div class="voltage-code">1H</div><div class="voltage-value">63V</div></div>
				<div class="voltage-item"><div class="voltage-code">P</div><div class="voltage-value">75V</div></div>
				<div class="voltage-item"><div class="voltage-code">I</div><div class="voltage-value">80V</div></div>
				<div class="voltage-item"><div class="voltage-code">K</div><div class="voltage-value">100V</div></div>
				<div class="voltage-item"><div class="voltage-code">2A</div><div class="voltage-value">125V</div></div>
				<div class="voltage-item"><div class="voltage-code">L</div><div class="voltage-value">150V</div></div>
				<div class="voltage-item"><div class="voltage-code">2C</div><div class="voltage-value">160V</div></div>
				<div class="voltage-item"><div class="voltage-code">M</div><div class="voltage-value">200V</div></div>
				<div class="voltage-item"><div class="voltage-code">2E</div><div class="voltage-value">250V</div></div>
				<div class="voltage-item"><div class="voltage-code">N</div><div class="voltage-value">300V</div></div>
				<div class="voltage-item"><div class="voltage-code">3A</div><div class="voltage-value">400V</div></div>
				<div class="voltage-item"><div class="voltage-code">Q</div><div class="voltage-value">500V</div></div>
			</div>
			<div class="info-text">å¸¸è§ç”µå®¹ã€äºŒæç®¡ç­‰å…ƒä»¶çš„è€å‹ä»£ç </div>
		</div>
	</div>

	<script>
		// é¡µé¢åˆå§‹åŒ–
		document.addEventListener('DOMContentLoaded', initPage);
		
		// åˆå§‹åŒ–é¡µé¢
		function initPage() {
			initWeekday();
			initColorResistor();
			switchToTab('weekday');
		}
		
		// æ ‡ç­¾åˆ‡æ¢
		function switchTab(tabName) {
			switchToTab(tabName);
		}
		
		function switchToTab(tabName) {
			document.querySelectorAll('.content').forEach(content => content.classList.add('hidden'));
			document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
			document.getElementById(tabName).classList.remove('hidden');
			document.querySelector(`.tab[onclick="switchTab('${tabName}')"]`).classList.add('active');
		}
		
		// åˆå§‹åŒ–å‘¨å¤©æ¢ç®—
		function initWeekday() {
			const now = new Date();
			const fullYear = now.getFullYear();
			const yearLastTwo = fullYear.toString().slice(-2);
			
			// è®¡ç®—ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©
			const start = new Date(fullYear, 0, 0);
			const dayOfYear = Math.floor((now - start) / (1000 * 60 * 60 * 24));
			
			// è®¡ç®—ISOå‘¨æ•°
			const weekNumber = getISOWeek(now);
			
			// è®¡ç®—æœ¬å‘¨ç¬¬å‡ å¤©ï¼ˆ1=æ˜ŸæœŸä¸€ï¼Œ7=æ˜ŸæœŸæ—¥ï¼‰
			let dayOfWeek = now.getDay();
			dayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;
			
			// æ›´æ–°æ˜¾ç¤º
			document.getElementById('year-value').textContent = yearLastTwo;
			document.getElementById('week-value').textContent = weekNumber;
			document.getElementById('day-value').textContent = dayOfYear;
			document.getElementById('weekday-value').textContent = dayOfWeek;
		}
		
		// è·å–ISOå‘¨æ•°
		function getISOWeek(date) {
			const target = new Date(date.valueOf());
			const dayNr = (date.getDay() + 6) % 7;
			target.setDate(target.getDate() - dayNr + 3);
			const firstThursday = target.valueOf();
			target.setMonth(0, 1);
			if (target.getDay() !== 4) {
				target.setMonth(0, 1 + ((4 - target.getDay()) + 7) % 7);
			}
			return 1 + Math.ceil((firstThursday - target) / 604800000);
		}
		
		// ========== éœ‡åŠ¨åé¦ˆ ==========
		function vibrate() {
			if (navigator.vibrate) {
				navigator.vibrate(50);
			}
		}
		
		// ========== ä»£ç è®¡ç®—å™¨åŠŸèƒ½ï¼ˆä¿®å¤åˆ é™¤æŒ‰é’®ï¼‰ ==========
		let currentInput = '';
		let currentDigits = '';
		let hasCalculated = false;
		
		// E96ç³»åˆ—ç”µé˜»å€¼æ˜ å°„è¡¨
		const e96Values = {
			'01': 100, '02': 102, '03': 105, '04': 107, '05': 110,
			'06': 113, '07': 115, '08': 118, '09': 121, '10': 124,
			'11': 127, '12': 130, '13': 133, '14': 137, '15': 140,
			'16': 143, '17': 147, '18': 150, '19': 154, '20': 158,
			'21': 162, '22': 165, '23': 169, '24': 174, '25': 178,
			'26': 182, '27': 187, '28': 191, '29': 196, '30': 200,
			'31': 205, '32': 210, '33': 215, '34': 221, '35': 226,
			'36': 232, '37': 237, '38': 243, '39': 249, '40': 255,
			'41': 261, '42': 267, '43': 274, '44': 280, '45': 287,
			'46': 294, '47': 301, '48': 309, '49': 316, '50': 324,
			'51': 332, '52': 340, '53': 348, '54': 357, '55': 365,
			'56': 374, '57': 383, '58': 392, '59': 402, '60': 412,
			'61': 422, '62': 432, '63': 442, '64': 453, '65': 464,
			'66': 475, '67': 487, '68': 499, '69': 511, '70': 523,
			'71': 536, '72': 549, '73': 562, '74': 576, '75': 590,
			'76': 604, '77': 619, '78': 634, '79': 649, '80': 665,
			'81': 681, '82': 698, '83': 715, '84': 732, '85': 750,
			'86': 768, '87': 787, '88': 806, '89': 825, '90': 845,
			'91': 866, '92': 887, '93': 909, '94': 931, '95': 953,
			'96': 976
		};
		
		// å€æ•°æ˜ å°„è¡¨
		const multiplierMap = {
			'A': { power: 0, symbol: 'Ã—1', name: '1' },
			'B': { power: 1, symbol: 'Ã—10', name: '10' },
			'C': { power: 2, symbol: 'Ã—100', name: '100' },
			'D': { power: 3, symbol: 'Ã—1K', name: '1K' },
			'E': { power: 4, symbol: 'Ã—10K', name: '10K' },
			'F': { power: 5, symbol: 'Ã—100K', name: '100K' },
			'X': { power: -1, symbol: 'Ã—0.1', name: '0.1' },
			'Y': { power: -2, symbol: 'Ã—0.01', name: '0.01' }
		};
		
		// æ·»åŠ æ•°å­—
		function addDigit(digit) {
			vibrate();
			if (hasCalculated) {
				clearForNewInput();
			}
			if (currentDigits.length < 2) {
				currentDigits += digit;
				currentInput = currentDigits;
				updateDisplay();
			}
		}
		
		// æ·»åŠ å€æ•°ä»£ç 
		function addMultiplier(multiplier) {
			vibrate();
			if (currentDigits.length === 0) {
				currentDigits = '';
				currentInput = multiplier;
				updateDisplay();
			} else if (currentDigits.length === 2) {
				currentInput = currentDigits + multiplier;
				updateDisplay();
				calculateResult();
			} else if (hasCalculated) {
				const digits = currentInput.substring(0, 2);
				currentInput = digits + multiplier;
				currentDigits = digits;
				updateDisplay();
				calculateResult();
			}
		}
		
		// æ¸…é™¤ä»£ç 
		function clearCode() {
			vibrate();
			currentInput = '';
			currentDigits = '';
			hasCalculated = false;
			updateDisplay();
		}
		
		// é€€æ ¼ï¼ˆä¿®å¤ç‰ˆï¼‰- å¯ä»¥ä¸€ç›´åˆ é™¤
		function backspace() {
			vibrate();
			
			// å¦‚æœæœ‰è®¡ç®—ç»“æœï¼Œå…ˆæ¸…é™¤ç»“æœæ ‡è®°
			if (hasCalculated) {
				hasCalculated = false;
			}
			
			// åˆ é™¤æœ€åä¸€ä¸ªå­—ç¬¦
			if (currentInput.length > 0) {
				currentInput = currentInput.slice(0, -1);
				// æ›´æ–°æ•°å­—éƒ¨åˆ†
				currentDigits = currentInput.replace(/[^0-9]/g, '');
			} else if (currentDigits.length > 0) {
				currentDigits = currentDigits.slice(0, -1);
				currentInput = currentDigits;
			}
			
			updateDisplay();
		}
		
		// ä¸ºæ–°çš„è¾“å…¥æ¸…ç©ºçŠ¶æ€
		function clearForNewInput() {
			currentInput = '';
			currentDigits = '';
			hasCalculated = false;
		}
		
		// è®¡ç®—ç»“æœ
		function calculateResult() {
			if (currentInput.length === 3) {
				const digits = currentInput.substring(0, 2);
				const multiplierCode = currentInput.substring(2, 3);
				
				const baseValue = e96Values[digits];
				const multiplierInfo = multiplierMap[multiplierCode];
				
				if (baseValue && multiplierInfo) {
					const resistance = baseValue * Math.pow(10, multiplierInfo.power);
					displayResult(digits + multiplierCode, resistance);
					hasCalculated = true;
				} else {
					displayResult(currentInput, 0);
				}
			}
		}
		
		// æ˜¾ç¤ºç»“æœ
		function displayResult(code, resistance) {
			const displayElement = document.getElementById('code-display');
			
			if (resistance > 0) {
				let formattedValue, unit;
				if (resistance >= 1000000) {
					formattedValue = (resistance / 1000000).toFixed(3);
					unit = 'MÎ©';
				} else if (resistance >= 1000) {
					formattedValue = (resistance / 1000).toFixed(2);
					unit = 'KÎ©';
				} else if (resistance < 1) {
					formattedValue = resistance.toFixed(2);
					unit = 'Î©';
				} else {
					formattedValue = resistance.toFixed(1);
					unit = 'Î©';
				}
				
				displayElement.innerHTML = `
					<span class="code-input">${code}</span>
					<span class="code-separator">=</span>
					<span class="code-result">${formattedValue}${unit}</span>
				`;
			} else if (currentInput || currentDigits) {
				const displayText = currentInput || currentDigits;
				displayElement.innerHTML = `<span class="code-input">${displayText}</span>`;
			} else {
				displayElement.innerHTML = `<span class="code-input">è¯·å¼€å§‹è¾“å…¥</span>`;
			}
		}
		
		// æ›´æ–°æ˜¾ç¤º
		function updateDisplay() {
			displayResult(currentInput || currentDigits, 0);
		}
		
		// ========== è‰²ç¯ç”µé˜»åŠŸèƒ½ ==========
		
		// è‰²ç¯ç”µé˜»æ•°æ®
		const colorData = [
			{name: "é»‘(0)", value: 0, multiplier: 1, tolerance: null, colorName: "é»‘", color: "#000000"},
			{name: "æ£•(1)", value: 1, multiplier: 10, tolerance: 1, colorName: "æ£•", color: "#8B4513"},
			{name: "çº¢(2)", value: 2, multiplier: 100, tolerance: 2, colorName: "çº¢", color: "#FF0000"},
			{name: "æ©™(3)", value: 3, multiplier: 1000, tolerance: null, colorName: "æ©™", color: "#FFA500"},
			{name: "é»„(4)", value: 4, multiplier: 10000, tolerance: null, colorName: "é»„", color: "#FFFF00"},
			{name: "ç»¿(5)", value: 5, multiplier: 100000, tolerance: 0.5, colorName: "ç»¿", color: "#008000"},
			{name: "è“(6)", value: 6, multiplier: 1000000, tolerance: 0.25, colorName: "è“", color: "#0000FF"},
			{name: "ç´«(7)", value: 7, multiplier: 10000000, tolerance: 0.1, colorName: "ç´«", color: "#800080"},
			{name: "ç°(8)", value: 8, multiplier: 100000000, tolerance: 0.05, colorName: "ç°", color: "#808080"},
			{name: "ç™½(9)", value: 9, multiplier: 1000000000, tolerance: null, colorName: "ç™½", color: "#FFFFFF"},
			{name: "é‡‘(-1)", value: -1, multiplier: 0.1, tolerance: 5, colorName: "é‡‘", color: "#FFD700"},
			{name: "é“¶(-2)", value: -2, multiplier: 0.01, tolerance: 10, colorName: "é“¶", color: "#C0C0C0"}
		];
		
		// å½“å‰é€‰æ‹©çš„è‰²ç¯
		let selectedBands = [];
		
		// åˆå§‹åŒ–è‰²ç¯è®¡ç®—å™¨
		function initColorResistor() {
			generateColorButtons();
		}
		
		// ç”Ÿæˆé¢œè‰²æŒ‰é’®
		function generateColorButtons() {
			const container = document.getElementById('color-buttons');
			colorData.forEach((color, index) => {
				const btn = document.createElement('button');
				btn.className = 'color-btn';
				btn.setAttribute('data-color', color.colorName);
				btn.textContent = color.name;
				btn.onclick = () => {
					vibrate();
					addBandColor(index);
				};
				container.appendChild(btn);
			});
		}
		
		// æ·»åŠ è‰²ç¯é¢œè‰²
		function addBandColor(colorIndex) {
			if (selectedBands.length >= 5) return;
			selectedBands.push(colorIndex);
			updateBandDisplay();
			calculateResistor();
		}
		
		// æ¸…é™¤æ‰€æœ‰è‰²ç¯
		function clearAllBands() {
			vibrate();
			selectedBands = [];
			updateBandDisplay();
			calculateResistor();
		}
		
		// æ›´æ–°è‰²ç¯æ˜¾ç¤º
		function updateBandDisplay() {
			const display = document.getElementById('band-display');
			display.innerHTML = '';
			
			document.getElementById('selected-info').textContent = 
				`å·²é€‰æ‹©ï¼š${selectedBands.length}ä¸ªè‰²ç¯ (æœ€å°‘3ä¸ªå¼€å§‹è®¡ç®—)`;
			
			if (selectedBands.length > 0) {
				selectedBands.forEach((bandIndex, i) => {
					const color = colorData[bandIndex];
					const band = document.createElement('div');
					band.className = 'band-square visible';
					band.style.backgroundColor = color.color;
					
					// è®¾ç½®æ–‡å­—é¢œè‰²ï¼ˆæ ¹æ®èƒŒæ™¯è‰²é€‰æ‹©å¯¹æ¯”è‰²ï¼‰
					const isLightColor = color.color === "#FFFFFF" || color.color === "#FFFF00" || 
									   color.color === "#FFD700" || color.color === "#C0C0C0" || 
									   color.color === "#FFA500";
					band.style.color = isLightColor ? "#000000" : "#FFFFFF";
					
					// è®¾ç½®è¾¹æ¡†é¢œè‰²ï¼ˆæ·±è‰²ç‰ˆæœ¬ï¼‰
					let borderColor;
					switch(color.color) {
						case "#000000": borderColor = "#333333"; break;
						case "#8B4513": borderColor = "#5a2d0c"; break;
						case "#FF0000": borderColor = "#cc0000"; break;
						case "#FFA500": borderColor = "#cc8400"; break;
						case "#FFFF00": borderColor = "#cccc00"; break;
						case "#008000": borderColor = "#006600"; break;
						case "#0000FF": borderColor = "#0000cc"; break;
						case "#800080": borderColor = "#660066"; break;
						case "#808080": borderColor = "#666666"; break;
						case "#FFFFFF": borderColor = "#cccccc"; break;
						case "#FFD700": borderColor = "#cca700"; break;
						case "#C0C0C0": borderColor = "#999999"; break;
						default: borderColor = color.color;
					}
					band.style.borderColor = borderColor;
					
					// è®¾ç½®æ˜¾ç¤ºå†…å®¹
					if ((selectedBands.length === 3 && i === 2) || 
						(selectedBands.length === 4 && i === 3) || 
						(selectedBands.length === 5 && i === 4)) {
						// å®¹å·®æˆ–ä¹˜æ•°ä½
						const isTolerance = selectedBands.length >= 4 && 
										   ((selectedBands.length === 4 && i === 3) || 
											(selectedBands.length === 5 && i === 4));
						const displayText = isTolerance ? 
							(color.tolerance ? 'Â±' + color.tolerance + '%' : '-') : 
							getMultiplierText(color.multiplier);
						band.innerHTML = `<div>${displayText}</div><div class="band-name">${color.colorName}</div>`;
					} else {
						// æ•°å­—ä½
						band.innerHTML = `<div>${color.value !== null ? color.value : '-'}</div><div class="band-name">${color.colorName}</div>`;
					}
					
					display.appendChild(band);
				});
			}
		}
		
		// è·å–ä¹˜æ•°æ–‡æœ¬
		function getMultiplierText(multiplier) {
			if (multiplier >= 1000000) return 'Ã—' + (multiplier / 1000000) + 'M';
			if (multiplier >= 1000) return 'Ã—' + (multiplier / 1000) + 'K';
			if (multiplier < 1) return 'Ã—' + multiplier;
			return 'Ã—' + multiplier;
		}
		
		// è®¡ç®—ç”µé˜»å€¼
		function calculateResistor() {
			const resultDisplay = document.getElementById('resistor-result');
			
			if (selectedBands.length >= 3) {
				let baseValue = 0;
				let multiplier = 1;
				let tolerance = null;
				
				if (selectedBands.length === 3) {
					const firstDigit = colorData[selectedBands[0]].value;
					const secondDigit = colorData[selectedBands[1]].value;
					const multiplierColor = colorData[selectedBands[2]];
					
					if (firstDigit === null || secondDigit === null) return;
					
					baseValue = firstDigit * 10 + secondDigit;
					multiplier = multiplierColor.multiplier;
					
				} else if (selectedBands.length === 4) {
					const firstDigit = colorData[selectedBands[0]].value;
					const secondDigit = colorData[selectedBands[1]].value;
					const multiplierColor = colorData[selectedBands[2]];
					const toleranceColor = colorData[selectedBands[3]];
					
					if (firstDigit === null || secondDigit === null) return;
					
					baseValue = firstDigit * 10 + secondDigit;
					multiplier = multiplierColor.multiplier;
					tolerance = toleranceColor.tolerance;
					
				} else if (selectedBands.length === 5) {
					const firstDigit = colorData[selectedBands[0]].value;
					const secondDigit = colorData[selectedBands[1]].value;
					const thirdDigit = colorData[selectedBands[2]].value;
					const multiplierColor = colorData[selectedBands[3]];
					const toleranceColor = colorData[selectedBands[4]];
					
					if (firstDigit === null || secondDigit === null || thirdDigit === null) return;
					
					baseValue = firstDigit * 100 + secondDigit * 10 + thirdDigit;
					multiplier = multiplierColor.multiplier;
					tolerance = toleranceColor.tolerance;
				}
				
				// è®¡ç®—å¹¶æ ¼å¼åŒ–ç”µé˜»å€¼
				let resistance = baseValue * multiplier;
				let formattedResistance;
				
				if (resistance >= 1000000) {
					formattedResistance = (resistance / 1000000).toFixed(3) + ' MÎ©';
				} else if (resistance >= 1000) {
					formattedResistance = (resistance / 1000).toFixed(2) + ' KÎ©';
				} else {
					formattedResistance = resistance.toFixed(1) + ' Î©';
				}
				
				// æ˜¾ç¤ºç»“æœåŒºåŸŸ
				resultDisplay.style.display = 'flex';
				
				// æ›´æ–°æ˜¾ç¤º
				document.getElementById('resistor-value').textContent = formattedResistance;
				document.getElementById('tolerance-value').textContent = tolerance ? 'Â±' + tolerance + '%' : '-';
			} else {
				// éšè—ç»“æœåŒºåŸŸ
				resultDisplay.style.display = 'none';
			}
		}
	</script>
</body>
</html>